<header class="page-header">
	<div class="container-fluid">
		<h2 class="no-margin-bottom">Finance</h2>
	</div>
</header>

<div class="breadcrumb-holder container-fluid">
	<ul class="breadcrumb">
		<li class="breadcrumb-item"><a routerLink="/dashboard/home">Home</a></li>
		<li class="breadcrumb-item active">Finance</li>
	</ul>
</div>

<div class="container-fluid">
	<div class="row mt-3">
		<div class="col-lg-12 col-12">
			<div class="card">
				<div class="card-header d-flex align-items-center">
					<h3 class="h4">Squads</h3>
				</div>
				<div class="card-body">
					<div class="table-responsive">                       
						<table class="table table-striped table-hover">
							<thead>
								<tr>
									<th>#</th>
									<th>Created at</th>
									<th>Stake in ETH</th>
									<th>State</th>
									<th>Withdraw</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let squad of squads">
									<th scope="row">{{ squad.index }}</th>
									<td>{{ squad.createdAt * 1000 | date:'short' }}</td>
									<td>{{ web3Service.fromWei(squad.stake, "ether") }} ETH</td>
									<td>{{ squad.state | squadState }}</td>
									<td>
										<span *ngIf="squad.state != blockchainService.SQUAD_STATE_WIN">Not available</span>
										<button (click)="withdraw(squad)" *ngIf="squad.state == blockchainService.SQUAD_STATE_WIN" class="btn btn-primary">Withdraw</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
